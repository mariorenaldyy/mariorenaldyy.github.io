<!DOCTYPE html>
<html>
  <head>
    <title>Formulir Sensus Umat SIMU</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <h1>Formulir Data Umat</h1>
   
    <form id="form">
      <fieldset>
        <legend>Data Diri & Identitas</legend>
        
        <label for="nama">Nama:</label>
        <input type="text" id="nama" name="a" autocomplete="name" required><br>

        <label for="jenis-kelamin">Jenis Kelamin:</label>

        <input type="radio" id="laki-laki" name="b" value="laki-laki" required>
        <label for="laki-laki">Laki-laki</label>

        <input type="radio" id="perempuan" name="b" value="perempuan" required>
        <label for="perempuan">Perempuan</label><br>

        <label for="tanggal-kelahiran">Tanggal Kelahiran:</label>
        <input type="date" id="tanggal-kelahiran" name="c" required>
        <label for="kota-lahir">Kota Lahir:</label>
        <input type="text" id="kota-lahir" name="d" autocomplete="address-level2" required><br>
        
        <datalist id="list-agama">
    			<option value="Katolik">
    			<option value="Kristen">
    			<option value="Buddha">
    			<option value="Tidak beragama">
   				<option value="Islam">
          <option value="Hindu">
   				<option value="Konghucu">
  			</datalist>
        
        <label for="agama">Agama:</label>
        <input list="list-agama" name="e" id="agama" required><br>
        
        <datalist id="list-keuskupan">
    			<option value="Keuskupan Agung Medan">
    			<option value="Keuskupan Sibolga">
    			<option value="Keuskupan Padang">
    			<option value="Keuskupan Agung Palembang">
          <option value="Keuskupan Pangkalpinang">
          <option value="Keuskupan Tanjungkarang">
          <option value="Keuskupan Agung Jakarta">
          <option value="Keuskupan Bogor">
          <option value="Keuskupan Bandung">
          <option value="Keuskupan Agung Semarang">
          <option value="Keuskupan Purwokerto">
          <option value="Keuskupan Surabaya">
          <option value="Keuskupan Malang">
          <option value="Keuskupan Agung Ende">
          <option value="Keuskupan Ruteng">
          <option value="Keuskupan Maumere">
          <option value="Keuskupan Larantuka">
          <option value="Keuskupan Denpasar">
          <option value="Keuskupan Agung Kupang">
          <option value="Keuskupan Atambua">
          <option value="Keuskupan Weetebula">
          <option value="Keuskupan Agung Pontianak">
          <option value="Keuskupan Sanggau">
          <option value="Keuskupan Sintang">
          <option value="Keuskupan Ketapang">
          <option value="Keuskupan Agung Samarinda">
          <option value="Keuskupan Palangka Raya">
          <option value="Keuskupan Banjarmasin">
          <option value="Keuskupan Tanjung Selor">
          <option value="Keuskupan Agung Makassar">
          <option value="Keuskupan Manado">
          <option value="Keuskupan Amboina">
          <option value="Keuskupan Merauke">
          <option value="Keuskupan Agats">
          <option value="Keuskupan Jayapura">
          <option value="Keuskupan Timika">
          <option value="Keuskupan Manokwari-Sorong">
          <option value="Ordinat Militer Indonesia">
  			</datalist>
        
        <label for="keuskupan">Keuskupan:</label>
        <input list="list-keuskupan" id="keuskupan" name="f" required><br>
        
        <label for="paroki">Paroki:</label>
        <input type="text" id="paroki" name="g" required><br>
        <label for="lingkungan">Lingkungan:</label>
        <input type="text" id="lingkungan" name="h" required><br>
      
        <label for="golongan-darah">Golongan Darah:</label>
        
        <input type="radio" id="a" name="i" value="a" required>
        <label for="a">A</label>
        
        <input type="radio" id="b" name="i" value="b" required>
        <label for="b">B</label>
        
        <input type="radio" id="ab" name="i" value="ab" required>
        <label for="ab">AB</label>
        
        <input type="radio" id="o" name="i" value="o" required>
        <label for="o">O</label><br>
        
        <label for="ras/suku">Ras / Suku:</label>
        <input type="text" id="ras/suku" name="j" required><br>
        
        <datalist id="list-kewarganegaraan">
    			<option value="Indonesia">
    			<option value="Asing">
  			</datalist>
        
        <label for="kewarganegaraan">Kewarganegaraan:</label>
        <input list="list-kewarganegaraan" name="k" id="kewarganegaraan" required><br>
        
        <datalist id="list-bahasa">
    			<option value="Bahasa Indonesia">
    			<option value="Bahasa Inggris">
    			<option value="Bahasa Mandarin">
    			<option value="Bahasa Sunda">
   				<option value="Bahasa Jawa">
          <option value="Bahasa Batak">
  			</datalist>
        
        <label for="bahasa">Bahasa Utama:</label>
        <input list="list-bahasa" id="bahasa" name="l" required><br>
        
        <datalist id="list-tipeprotestan">
    			<option value="Baptis">
    			<option value="Anglikan">
          <option value="Protestan">
          <option value="Lutheran">
  			</datalist>
        
        <label for="tipeprotestan">Tipe Protestan:</label>
        <input list="list-tipeprotestan" name="m" id="tipeprotestan" required><br>
                
        <label for="agama-sebelum">Agama Sebelumnya:</label>
        <input list="list-agama" name="n" id="agama-sebelum" required><br>
      
      </fieldset>
      
      <fieldset>
        <legend>Kontak</legend>
        
        <label for="alamat">Alamat:</label>
      	<input type="text" id="alamat" name="o" autocomplete="street-address" required><br>
        
        <label for="kabupaten">Kabupaten:</label>
      	<input type="text" id="kabupaten" name="p" autocomplete="address-level2" required><br>
        
        <label for="kota">Kota:</label>
      	<input type="text" id="kota" name="q" autocomplete="address-level2" required><br>
        
        <label for="kecamatan">Kecamatan:</label>
      	<input type="text" id="kecamatan" name="r" autocomplete="address-level3" required><br>
        
        <label for="kelurahan">Kelurahan:</label>
      	<input type="text" id="kelurahan" name="s" autocomplete="address-level4" required><br>
        
				<label for="rt">RT:</label>
      	<input type="text" id="rt" name="t" inputmode="numeric" required><br>
        
        <label for="rw">RW:</label>
      	<input type="text" id="rw" name="u" inputmode="numeric" required><br>
        
        <label for="bulantinggal">Bulan Tinggal:</label>
      	<input type="text" id="bulantinggal" name="v" required><br>
        
        <label for="tahuntinggal">Tahun Tinggal:</label>
      	<input type="text" id="tahuntinggal" name="w" required><br>
        
        <label for="notelp">Nomor Telepon:</label>
      	<input type="tel" id="notelp" name="x" required><br>
        
        <label for="nohp">Nomor Handphone:</label>
      	<input type="tel" id="nohp" name="y" autocomplete="tel" required><br>
        
        <label for="email">Email:</label>
      	<input type="email" id="email" name="z" autocomplete="email" required><br>
      </fieldset>
      
      <fieldset>
        <legend>Data Pribadi</legend>
        
        <label for="hobi">Hobi:</label>
      	<input type="text" id="hobi" name="1" required><br>
        
        <label for="anggota-asuransi">Anggota Asuransi:</label>

        <input type="radio" id="ya-asuransi" name="2" value="ya-asuransi" required>
        <label for="ya-asuransi">Ya</label>

        <input type="radio" id="tidak-asuransi" name="2" value="tidak-asuransi" required>
        <label for="tidak-asuransi">Tidak</label><br>
        
        <datalist id="list-status-kesehatan">
    			<option value="Normal">
    			<option value="Gangguan fisik">
    			<option value="Gangguan Mental">
  			</datalist>
        
        <label for="status-kesehatan">Status Kesehatan:</label>
        <input list="list-status-kesehatan" name="3" id="status-kesehatan" required><br>
        
        <label for="deskripsi-kesehatan">Deskripsi Kesehatan:</label>
      	<input type="text" id="deskripsi-kesehatan" name="4" required><br>
        
        <label for="cacat-tubuh">Cacat Tubuh:</label>
      	<input type="text" id="cacat-tubuh" name="5" required><br>
        
        <label for="deskripsi-cacat-tubuh">Deskripsi Cacat Tubuh:</label>
      	<input type="text" id="deskripsi-cacat-tubuh" name="6" required><br>
        
      </fieldset>
      
      <fieldset>
        <legend>Keluarga</legend>
        
				<datalist id="list-perkawinan">
    			<option value="Kawin">
    			<option value="Belum Kawin">
    			<option value="Janda/Duda Mati">
    			<option value="Pisah">
   				<option value="Cerai Sipil">
          <option value="Tidak Kawin">
  			</datalist>
        
        <label for="perkawinan">Status Perkawinan:</label>
        <input list="list-perkawinan" name="7" id="statusperkawinan" required><br> 
        
        
        <datalist id="list-hubkeluarga">
    			<option value="Suami">
    			<option value="Istri">
    			<option value="Anak Kandung">
    			<option value="Anak Tiri/Adopsi">
   				<option value="Anak kost">
  			</datalist>
        
        <label for="hubkeluarga">Status Hubungan Keluarga:</label>
        <input list="list-hubkeluarga" name="8" id="hubkeluarga" required><br>  
        
        <label for="ibukandung">Nama Ibu Kandung:</label>
        <input type="text" id="ibukandung" name="9" autocomplete="name" required><br>
        
        <label for="ayahkandung">Nama Ayah Kandung:</label>
        <input type="text" id="ayahkandung" name="10" autocomplete="name" required><br>
        
        <label for="anakke">Anak ke:</label>
        <input type="number" id="anakke" name="11" required><br>
        
        <label for="anggotakeluarga1">Nama Anggota Keluarga 1:</label>
        <input type="text" id="anggotakeluarga1" name="12" autocomplete="name"><br>
        
        <label for="anggotakeluarga2">Nama Anggota Keluarga 2:</label>
        <input type="text" id="anggotakeluarga2" name="13" autocomplete="name"><br>
        
        <label for="anggotakeluarga3">Nama Anggota Keluarga 3:</label>
        <input type="text" id="anggotakeluarga3" name="14" autocomplete="name"><br>
        
        <label for="anggotakeluarga4">Nama Anggota Keluarga 4:</label>
        <input type="text" id="anggotakeluarga4" name="15" autocomplete="name"><br>
        
        <label for="anggotakeluarga5">Nama Anggota Keluarga 5:</label>
        <input type="text" id="anggotakeluarga5" name="16" autocomplete="name"><br>
        
        <label for="anggotakeluarga6">Nama Anggota Keluarga 6:</label>
        <input type="text" id="anggotakeluarga6" name="17"autocomplete="name"><br>
      </fieldset>
      
      <fieldset>
        <legend>Sakramen</legend>
        <h3>BAPTIS</h3>
        <label for="nomor-surat-baptis">Nomor Surat Baptis:</label>
      	<input type="number" id="nomor-surat-baptis" name="18" required><br>
        
        <label for="nama-baptis">Nama Baptis:</label>
      	<input type="text" id="nama-baptis" name="19" autocomplete="given-name" required><br>
        
        <datalist id="list-jenis-baptis">
    			<option value="Baptis Bayi">
    			<option value="Baptis Dewasa">
  			</datalist>
        
        <label for="jenis-baptis">Jenis Baptis:</label>
        <input list="list-jenis-baptis" name="20" id="jenis-baptis" required><br>
        
        <label for="agama-sebelum2">Agama Sebelumnya:</label>
        <input list="list-agama" name="21" id="agama-sebelum2" required><br>
        
        <label for="gereja-baptis">Gereja Baptis:</label>
      	<input type="text" id="gereja-baptis" name="22" required><br>
        
        <label for="tanggal-baptis">Tanggal Baptis:</label>
      	<input type="date" id="tanggal-baptis" name="23" required><br>
        
        <label for="paroki-baptis">Paroki Baptis:</label>
      	<input type="text" id="paroki-baptis" name="24" required><br>
        
        <label for="kota-baptis">Kota Baptis:</label>
      	<input type="text" id="kota-baptis" name="25" autocomplete="address-level2" required><br>
        
        <h3>KOMUNI PERTAMA</h3>
        <label for="nomor-surat-komuni">Nomor Surat Komuni:</label>
      	<input type="number" id="nomor-surat-komuni" name="26" required><br>
        
        <label for="tanggal-komuni">Tanggal Komuni:</label>
      	<input type="date" id="tanggal-komuni" name="27" required><br>
        
        <label for="di-gereja">di Gereja:</label>
      	<input type="text" id="di-gereja" name="28" required><br>
        
        <label for="nama-paroki">Nama Paroki:</label>
      	<input type="text" id="nama-paroki" name="29" required><br>
        
        <label for="kota-komuni">Kota:</label>
      	<input type="text" id="kota-komuni" name="30" required autocomplete="address-level2"><br>
        
        <h3>PENGUATAN</h3>
        <label for="nomor-surat-penguatan">No. Surat Penguatan:</label>
      	<input type="number" id="nomor-surat-penguatan" name="31" required><br>
        
        <label for="tanggal-penguatan">Tanggal Penguatan:</label>
      	<input type="date" id="tanggal-penguatan" name="32" required><br>
        
        <label for="nama-penguatan">Nama Penguatan:</label>
      	<input type="text" id="nama-penguatan" name="33" required><br>
        
        <label for="penguatan-di-gereja">di Gereja:</label>
      	<input type="text" id="penguatan-di-gereja" name="34" required><br>
        
        <label for="nama-paroki-penguatan">Nama Paroki:</label>
      	<input type="text" id="nama-paroki-penguatan" name="35" required><br>
        
        <label for="kota-penguatan">Kota:</label>
      	<input type="text" id="kota-penguatan" name="36" required autocomplete="address-level2"><br>
        
        <h3>PERKAWINAN</h3>
        <label for="nomor-surat-perkawinan">No. Surat Perkawinan:</label>
      	<input type="number" id="nomor-surat-perkawinan" name="37" required><br>
        
        <label for="tanggal-perkawinan">Tanggal Perkawinan:</label>
      	<input type="date" id="tanggal-perkawinan" name="38" required><br>
        
        <label for="perkawinan-di-gereja">di Gereja:</label>
      	<input type="text" id="perkawinan-di-gereja" name="39" required><br>
        
        <label for="nama-paroki-perkawinan">Nama Paroki:</label>
      	<input type="text" id="nama-paroki-perkawinan" name="40" required><br>
        
        <label for="kota-perkawinan">Kota:</label>
      	<input type="text" id="kota-perkawinan" name="41" autocomplete="address-level2"required><br>
        
        <label for="suami">Suami:</label>
      	<input type="text" id="suami" name="42" autocomplete="name" required><br>
        
        <label for="istri">Istri:</label>
      	<input type="text" id="istri" name="43" autocomplete="name" required><br>
        
        <datalist id="list-kategori-perkawinan">
    			<option value="Katolik">
    			<option value="Katolik - Kristen">
          <option value="Katolik - Islam">
          <option value="Katolik - Buddha">
          <option value="Katolik - Hindu">
          <option value="Katolik - Kong hu cu">
          <option value="Katolik - lainnya">
  			</datalist>
        
        <label for="kategori-perkawinan">Kategori Perkawinan:</label>
        <input list="list-kategori-perkawinan" name="44" id="kategori-perkawinan" required><br>
        
      </fieldset>
      
      <fieldset>
        <legend>Pekerjaan & Pendidikan</legend>
        
        <label for="">Pekerjaan:</label>
        <input type="text" id="pekerjaan" name="45" required><br>
        
        <label for="">Alamat Pekerjaan:</label>
        <input type="text" id="alamatpekerjaan" name="46" autocomplete="street-address"  required><br>
        
        <label for="profesi">Profesi:</label>
        <input type="text" id="profesi" name="47" required><br>
        
        <label for="profesilain">Profesi Lain:</label>
        <input type="text" id="profesilain" name="48"><br>
        
        <label for="pendapatan">Pendapatan perbulan:</label>
        <input list="list-pendapatan" name="49" id="pendapatan" required><br> 
        
        
        <datalist id="list-pendapatan">
    			<option value="< Rp 500.000,-">
          <option value="< Rp 1.000.000,-">
    			<option value="Rp 1.000.000,- s/d Rp 2.000.000,-">
         	<option value="Rp 2.000.000,- s/d Rp 3.000.000,-">
    			<option value="Rp 3.000.000,- s/d Rp 4.000.000,-">
    			<option value="Rp 4.000.000,- s/d Rp 5.000.000,-">
    			<option value="Rp 5.000.000,- s/d Rp 6.000.000,-">
  			</datalist>
        
        <label for="keahlian">Keahlian/keterampilan:</label>
        <input type="text" name="50" id="keahlian" required><br> 
        
        <datalist id="list-kursusgereja">
    			<option value="Sedang">
          <option value="Pernah">
    			<option value="Tidak Pernah">
  			</datalist>
        
        <label for="kursusgereja">Kursus gereja/pastoral:</label>
        <input list="list-kursusgereja" name="51" id="kursusgereja" required><br> 
                
        <label for="jeniskursus">Jenis Kursus:</label>
        <input type="text" id="jeniskursus" name="52" required><br>
        
        <label for="pendidikanskrg">Pendidikan Saat Ini:</label>
        <input list="list-pendidikanskrg" name="53" id="pendidikanskrg" required><br> 
        
        <datalist id="list-pendidikanskrg">
    			<option value="TK">
          <option value="SD">
          <option value="SMP">
          <option value="SMA">
          <option value="SMK">
          <option value="S1">
          <option value="S2">
          <option value="S3">
  			</datalist>
        
        <label for="pendidikanterakhir">Pendidikan Terakhir:</label>
        <input list="list-pendidikanterakhir" name="54" id="pendidikanterakhir" required><br> 
        
        <datalist id="list-pendidikanterakhir">
          <option value="SD">
          <option value="SMP">
          <option value="SMA">
          <option value="SMK">
          <option value="S1">
          <option value="S2">
          <option value="S3">
  			</datalist>
        
        <label for="jurusan">Jurusan/Prodi:</label>
        <input type="text" id="jurusan" name="55" required><br>
        
        <label for="namasekolah">Nama Sekolah/Universitas:</label>
        <input type="text" id="namasekolah" name="56" required><br>
        
        <label for="kotasekolah">di Kota:</label>
        <input type="text" id="kotasekolah" name="57" required autocomplete="address-level2"><br>
        
        <label for="alamatsekolah">Alamat:</label>
        <input type="text" id="alamatsekolah" name="58"autocomplete="street-address"  required><br>
        
        <label for="kategorisekolah">Kategori Sekolah/Universitas:</label>
        <input list="list-kategorisekolah" name="59" id="kategorisekolah" required><br> 
        
        <datalist id="list-kategorisekolah">
          <option value="Katolik">
          <option value="Kristen">
          <option value="Negeri">
          <option value="Swasta">
  			</datalist>
      </fieldset>
      
      <fieldset>
        <legend>Aktivitas</legend>
        
        <label for="jenisrohaniwan">Jenis Rohaniwan:</label>
        <input list="list-jenisrohaniwan" name="60" id="jenisrohaniwan" required><br> 
        
        <datalist id="list-jenisrohaniwan">
          <option value="Awam">
          <option value="Pastor">
          <option value="Suster">
          <option value="Bruder">
  			</datalist>
        
        <datalist id="list-misa">
          <option value="Selalu">
          <option value="Sering">
          <option value="Jarang/Kadang-kadang">
          <option value="Tidak pernah">
  			</datalist>
        
        <label for="misaharian">Misa Harian:</label>
        <input list="list-misa" name="61" id="misaharian" required><br> 
        
        <label for="misamingguan">Misa Mingguan:</label>
        <input list="list-misa" name="62" id="misamingguan" required><br> 
        
        <label for="misaraya">Misa Hari Raya:</label>
        <input list="list-misa" name="63" id="misaraya" required><br> 
        
        <label for="aktifmasy">Aktif di Masyarakat:</label>

        <input type="radio" id="ya-aktif" name="64" value="ya" required>
        <label for="ya-aktif">ya</label>

        <input type="radio" id="tidak-aktif" name="64" value="tidak" required>
        <label for="tidak-aktif">tidak</label>
        
        <label for="posisimasy">Posisi di Masyarakat:</label>
        <input type="text" id="posisimasy" name="65" required><br>
        
        <datalist id="list-aktif">
          <option value="Sedang">
          <option value="Pernah">
          <option value="Tidak pernah">
  			</datalist>
        
        <label for="aktifkeus">Aktif di Keuskupan:</label>
        <input list="list-aktif" name="66" id="aktifkeus" required><br> 
        
        <label for="aktifparo">Aktif di Paroki/Stasi:</label>
        <input list="list-aktif" name="67" id="aktifparo" required><br>
        
        <label for="aktifling">Aktif di Lingkungan:</label>
        <input list="list-aktif" name="68" id="aktifling" required><br>
        
        <label for="aktifwil">Aktif di Wilayah:</label>
        <input list="list-aktif" name="69" id="aktifwil" required><br>
        
        <label for="petugasliturgi">Petugas Liturgi:</label>
        <input list="list-aktif" name="70" id="petugasliturgi" required><br>
        
        <label for="aktifkat">Aktif di Kategorial:</label>

        <input type="radio" id="ya-aktif" name="71" value="ya" required>
        <label for="ya-aktif">ya</label>

        <input type="radio" id="tidak-aktif" name="71" value="tidak" required>
        <label for="tidak-aktif">tidak</label>
        
        <label for="namakat">Nama Kategorial:</label>
        <input type="text" id="namakat" name="72" required><br>
        
      </fieldset>
      
      <fieldset>
        <legend>APK</legend>
        
        <label for="menjadi-anggota-apk">Menjadi Anggota APK:</label>

        <input type="radio" id="ikut" name="73" value="ikut" required>
        <label for="ikut">Ikut</label>

        <input type="radio" id="tidak-ikut" name="73" value="tidak-ikut" required>
        <label for="tidak-ikut">Tidak Ikut</label><br>
        
        <label for="nomor-apk">Nomor Apk:</label>
      	<input type="number" id="nomor-apk" name="74" required><br>
        
        <label for="tanggal-mulai-apk">Tanggal mulai APK:</label>
      	<input type="date" id="tanggal-mulai-apk" name="75" required><br>
        
        <label for="status">Status:</label>

        <input type="radio" id="hidup" name="76" value="hidup" required>
        <label for="hidup">Hidup</label>

        <input type="radio" id="mati" name="76" value="mati" required>
        <label for="mati">Mati</label><br>
        
        <label for="tanggal-kematian">Tanggal Kematian:</label>
      	<input type="date" id="tanggal-kematian" name="77" required><br>
        
        <label for="pastor-pengurus-kematian">Pastor Pengurus Kematian:</label>
      	<input type="text" id="pastor-pengurus-kematian" name="78" autocomplete="name" required><br>
      </fieldset>
      
      <input type="submit" value="Submit">
      <div id="qrcode"></div>
    </form>    
  </body>
  
  <script language="javascript" src="lz-string.js"></script>
  <script language="javascript" src="qrcode.js"></script>

  <script type="text/javascript" defer>
    function handleSubmit(event) {
      event.preventDefault();
      let data = new FormData(event.target);
      let value = Object.fromEntries(data.entries());
      let jsonstring = JSON.stringify(value);
      console.log("JSONstring: " + jsonstring);
      console.log("JSONstring length: " + jsonstring.length);
      
      let jsonstringcompressed = LZString.compressToBase64(jsonstring);
      console.log("compressed: " + jsonstringcompressed);
      console.log("compressed length: " + jsonstringcompressed.length);
      
      let max = Math.ceil(jsonstringcompressed.length / 500);
      console.log(max);
      
      let qrDiv = document.getElementById("qrcode");
      
      let i = 1;
      while(i <= max){
        let currStr = jsonstringcompressed.substring(0, 501);
        jsonstringcompressed = jsonstringcompressed.substring(501);
        let jsonPecahan = "{seq:"+i+",max:"+ max +","+currStr+"}";
        console.log(jsonPecahan);
      	new QRCode(qrDiv, jsonPecahan);
        
      	i++;
      }
    }

    let form = document.querySelector('form');
    form.addEventListener('submit', handleSubmit);

    if(window.location.hash) {
      let hash = window.location.hash.substring(1);
      let jsonstringdecompressed = JSON.parse(LZString.decompressFromBase64(hash));
      for (let [key, value] of Object.entries(jsonstringdecompressed) ) {
        let field = document.getElementById(key);
        if(field == null){
          document.getElementById(value).checked = true;
        }
        else{
          field && (field.value = value);
        }
      }
    }
  </script>
</html>